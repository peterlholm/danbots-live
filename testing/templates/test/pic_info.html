{% extends "base.html" %}

{% load static %}

{% block content %}
<h2>Stitchning af billeder</h2>
<script type="text/javascript">
    function UpdatePic() {
        if (!document.images) return;
        obj = document.getElementById('scan1');
        console.log(obj.src);
        //obj.src = obj.src;
        obj.src = obj.src.split("?")[0] + '?' + Math.random();
        //obj2 = document.getElementById('scan2');
        //obj2.src = obj2.src.split("?")[0] + '?' + Math.random();
        obj.onload = imgloaded;
    }

    function imgloaded() {
        if (run) setTimeout('UpdatePic()',200);   /*time in milliseconds... same as in 'onload'*/
    }
    var run=false;
</script>

<p>Billeder fra scanner </p>

<div>
{% for p in pic %}
    <img src="{{ p }}"  height="100" alt="P" title="{{ p }}" />&nbsp;&nbsp;
{% endfor %}
</div>

<br>
<img id="stitch" src="{{ stitch }}"  height="300" alt="stitch" title="Dette er det stitchede billede"  />
<br>

<br>
<!-- {{ info }} -->
</div>
<hr />

{% comment %} <button onclick="run=true;setTimeout('UpdatePic()',1000);" class="btn btn-primary">START</button>
&nbsp;&nbsp;
<button onclick="run=false;" class="btn btn-secondary">STOP</button> {% endcomment %}


{% endblock %}